<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        function addCharacter(oldValue, target) {
            let characterList = ['+', '-', '/', '*'];
            let lastChr = oldValue.slice(-1);
            let symbolToAdd = target.value;
            let targetClass = target.className; 
            
            console.log(symbolToAdd)
            console.log(targetClass)
            if ((oldValue === '' || oldValue.trim() === '') && symbolToAdd != '-' && targetClass != "digit") {
       
            return oldValue;  
           }
        
           if (symbolToAdd === '.' && oldValue.lastIndexOf('.') > oldValue.lastIndexOf('*') && oldValue.lastIndexOf('.') > oldValue.lastIndexOf('+') && oldValue.lastIndexOf('.') > oldValue.lastIndexOf('-') && oldValue.lastIndexOf('.') > oldValue.lastIndexOf('/')) {
    // Don't add the decimal if it's within the same operand
    return oldValue;
}

            
           let inputField = document.getElementById('display'); 
            inputField.scrollLeft = inputField.scrollWidth; 
            console.log(inputField.scrollLeft)

        if (characterList.includes(lastChr) && targetClass != "digit") { 
            return oldValue
           
        } else { 
            return oldValue += symbolToAdd
           
        }
        }
    
    function customEvaluate(displayText) { 
        return eval(displayText);
    }
    
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World's Best Calculator 2024</title>
    <link rel="stylesheet" href="style.css">
</head>


<div class="container"> 
<div class="calculator">
    <form> 
        <div class="display">  <input type="text" name="display" id="display">  </div>
        <div>  
            <input type="button" value = "AC" onclick="display.value = '' " class="operator">    
             <input type="button" value = "DE"onclick="display.value = display.value.toString().slice(0,-1) " class="operator">     
             <input type="button" value = "." onclick="display.value = addCharacter(display.value, event.target)" class="operator">   
             <input type="button" value = "/" onclick="display.value = addCharacter(display.value, event.target)" class="operator">
         </div>
         <div>  
            <input type="button" value = "7" onclick="display.value = addCharacter(display.value, event.target)" class="digit">
             <input type="button" value = "8"  onclick="display.value = addCharacter(display.value, event.target)" class="digit"> 
             <input type="button" value = "9" onclick="display.value = addCharacter(display.value, event.target)" class="digit">    
             <input type="button" value = "*" onclick="display.value = addCharacter(display.value, event.target)" class="operator">
         </div>
         <div>  
            <input type="button" value = "4" onclick="display.value = addCharacter(display.value, event.target)" class="digit">
             <input type="button" value = "5" onclick="display.value = addCharacter(display.value, event.target)" class="digit">   
             <input type="button" value = "6" onclick="display.value = addCharacter(display.value, event.target)" class="digit">
             <!-- comment -->
           <input type="button" value = "-" onclick="display.value = addCharacter(display.value, event.target)" class="operator">
         </div>
         <div>  
            <input type="button" value = "1" onclick="display.value = addCharacter(display.value, event.target)" class="digit">
             <input type="button" value = "2" onclick="display.value = addCharacter(display.value, event.target)" class="digit">   
             <input type="button" value = "3" onclick="display.value = addCharacter(display.value, event.target)" class="digit"> 
             <input type="button" value = "+" onclick="display.value = addCharacter(display.value, event.target)" class="operator"> 
         </div>
         <div>  
            <input type="button" value = "00" onclick="display.value = addCharacter(display.value, event.target)" class="digit">
             <input type="button" value = "0" onclick="display.value = addCharacter(display.value, event.target)" class="digit"> 
             <input type="button" value = "=" onclick="display.value = customEvaluate(display.value)" class="equal">  
            
         </div>
    </form>
</div>
    
</div>


</html>